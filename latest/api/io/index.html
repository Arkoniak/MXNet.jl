<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Data Providers - MXNet.jl</title>
      
      
      
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="MXNet.jl">
    <meta property="og:image" content="None/../../">
    <meta name="apple-mobile-web-app-title" content="MXNet.jl">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../../assets/fonts/icon.eot?52m981');
      	src: url('../../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../../assets/stylesheets/application-a422ff04cc.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/palettes-05ab2406df.css">
    
    
      
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu+Mono">
      <style>
        body, input {
          font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="../../assets/Documenter.css">
    
    <script src="../../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class="palette-primary-indigo palette-accent-blue">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
              
                API Documentation <i class="icon icon-link"></i>
              
            
          </span>
        
        Data Providers
      </div>
    </div>
    
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/dmlc/MXNet.jl" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>
          MXNet.jl
          <span class="version">
            
          </span>
        </strong>
        
          <br>
          dmlc/MXNet.jl
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/dmlc/MXNet.jl/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/dmlc/MXNet.jl/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="../..">
      Home
    </a>
    
  </li>

          
            
  <li>
    <span class="section">Tutorial</span>
    <ul>
      
        
  <li>
    <a class="" title="Digit Recognition on MNIST" href="../../tutorial/mnist/">
      Digit Recognition on MNIST
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Generating Random Sentence with LSTM RNN" href="../../tutorial/char-lstm/">
      Generating Random Sentence with LSTM RNN
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">User Guide</span>
    <ul>
      
        
  <li>
    <a class="" title="Installation Guide" href="../../user-guide/install/">
      Installation Guide
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Overview" href="../../user-guide/overview/">
      Overview
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="FAQ" href="../../user-guide/faq/">
      FAQ
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">API Documentation</span>
    <ul>
      
        
  <li>
    <a class="" title="Context" href="../context/">
      Context
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Models" href="../model/">
      Models
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Initializers" href="../initializer/">
      Initializers
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Optimizers" href="../optimizer/">
      Optimizers
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Callbacks in training" href="../callback/">
      Callbacks in training
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Evaluation Metrics" href="../metric/">
      Evaluation Metrics
    </a>
    
  </li>

      
        
  <li>
    <a class="current" title="Data Providers" href="./">
      Data Providers
    </a>
    
      
        
      
      
        <ul>
          
            <li class="anchor">
              <a title="AbstractDataProvider interface" href="#abstractdataprovider-interface">
                AbstractDataProvider interface
              </a>
            </li>
          
            <li class="anchor">
              <a title="AbstractDataBatch interface" href="#abstractdatabatch-interface">
                AbstractDataBatch interface
              </a>
            </li>
          
            <li class="anchor">
              <a title="Implemented providers and other methods" href="#implemented-providers-and-other-methods">
                Implemented providers and other methods
              </a>
            </li>
          
        </ul>
      
    
  </li>

      
        
  <li>
    <a class="" title="NDArray API" href="../ndarray/">
      NDArray API
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Symbolic API" href="../symbolic-node/">
      Symbolic API
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Neural Networks Factory" href="../nn-factory/">
      Neural Networks Factory
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Executor" href="../executor/">
      Executor
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Network Visualization" href="../visualize/">
      Network Visualization
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
          <p><a id='Data-Providers-1'></a></p>
<h1 id="data-providers">Data Providers</h1>
<p>Data providers are wrappers that load external data, be it images, text, or general tensors, and split it into mini-batches so that the model can consume the data in a uniformed way.</p>
<p><a id='AbstractDataProvider-interface-1'></a></p>
<h2 id="abstractdataprovider-interface">AbstractDataProvider interface</h2>
<p><a id='MXNet.mx.AbstractDataProvider' href='#MXNet.mx.AbstractDataProvider'>#</a>
<strong><code>MXNet.mx.AbstractDataProvider</code></strong> &mdash; <em>Type</em>.</p>
<pre><code>AbstractDataProvider
</code></pre>

<p>The root type for all data provider. A data provider should implement the following interfaces:</p>
<ul>
<li><a href="./#MXNet.mx.get_batch_size"><code>get_batch_size</code></a></li>
<li><a href="./#MXNet.mx.provide_data"><code>provide_data</code></a></li>
<li><a href="./#MXNet.mx.provide_label"><code>provide_label</code></a></li>
</ul>
<p>As well as the Julia iterator interface (see <a href="http://docs.julialang.org/en/stable/manual/interfaces/">the Julia manual</a>). Normally this involves defining:</p>
<ul>
<li><code>Base.eltype(provider) -&gt; AbstractDataBatch</code></li>
<li><code>Base.start(provider) -&gt; AbstractDataProviderState</code></li>
<li><code>Base.done(provider, state) -&gt; Bool</code></li>
<li><code>Base.next(provider, state) -&gt; (AbstractDataBatch, AbstractDataProvider)</code></li>
</ul>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L1-L17' class='documenter-source'>source</a><br></p>
<p>The difference between <em>data</em> and <em>label</em> is that during training stage, both <em>data</em> and <em>label</em> will be feeded into the model, while during prediction stage, only <em>data</em> is loaded. Otherwise, they could be anything, with any names, and of any shapes. The provided data and label names here should match the input names in a target <code>SymbolicNode</code>.</p>
<p>A data provider should also implement the Julia iteration interface, in order to allow iterating through the data set. The provider will be called in the following way:</p>
<pre><code class="julia">for batch in eachbatch(provider)
    data = get_data(provider, batch)
end
</code></pre>

<p>which will be translated by Julia compiler into</p>
<pre><code class="julia">state = Base.start(eachbatch(provider))
while !Base.done(provider, state)
    (batch, state) = Base.next(provider, state)
    data = get_data(provider, batch)
end
</code></pre>

<p>By default, <code>eachbatch</code> simply returns the provider itself, so the iterator interface is implemented on the provider type itself. But the extra layer of abstraction allows us to implement a data provider easily via a Julia <code>Task</code> coroutine. See the data provider defined in <a href="../tutorial/char-lstm">the char-lstm example</a> for an example of using coroutine to define data providers.</p>
<p>The detailed interface functions for the iterator API is listed below:</p>
<pre><code>Base.eltype(provider) -&gt; AbstractDataBatch
</code></pre>

<p>Returns the specific subtype representing a data batch. See <code>AbstractDataBatch</code>.</p>
<ul>
<li>
<p><code>provider::AbstractDataProvider</code>: the data provider.</p>
<p>Base.start(provider) -&gt; AbstractDataProviderState</p>
</li>
</ul>
<p>This function is always called before iterating into the dataset. It should initialize the iterator, reset the index, and do data shuffling if needed.</p>
<ul>
<li>
<p><code>provider::AbstractDataProvider</code>: the data provider.</p>
<p>Base.done(provider, state) -&gt; Bool</p>
</li>
</ul>
<p>True if there is no more data to iterate in this dataset.</p>
<ul>
<li><code>provider::AbstractDataProvider</code>: the data provider.</li>
<li>
<p><code>state::AbstractDataProviderState</code>: the state returned by <code>Base.start</code> and <code>Base.next</code>.</p>
<p>Base.next(provider) -&gt; (AbstractDataBatch, AbstractDataProviderState)</p>
</li>
</ul>
<p>Returns the current data batch, and the state for the next iteration.</p>
<ul>
<li><code>provider::AbstractDataProvider</code>: the data provider.</li>
</ul>
<p>Note sometimes you are wrapping an existing data iterator (e.g. the built-in libmxnet data iterator) that is built with a different convention. It might be difficult to adapt to the interfaces stated here. In this case, you can safely assume that</p>
<ul>
<li><code>Base.start</code> will always be called, and called only once before the iteration starts.</li>
<li><code>Base.done</code> will always be called at the beginning of every iteration and always be called once.</li>
<li>If <code>Base.done</code> return true, the iteration will stop, until the next round, again, starting with a call to <code>Base.start</code>.</li>
<li><code>Base.next</code> will always be called only once in each iteration. It will always be called after one and only one call to <code>Base.done</code>; but if <code>Base.done</code> returns true, <code>Base.next</code> will not be called.</li>
</ul>
<p>With those assumptions, it will be relatively easy to adapt any existing iterator. See the implementation of the built-in <code>MXDataProvider</code> for example.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please do not use the one data provider simultaneously in two different places, either in parallel, or in a nested loop. For example, the behavior for the following code is undefined</p>
<p>```julia
for batch in data
    # updating the parameters</p>
<pre><code># now let's test the performance on the training set
for b2 in data
    # ...
end
</code></pre>
<p>end
```</p>
</div>
<p><a id='MXNet.mx.get_batch_size' href='#MXNet.mx.get_batch_size'>#</a>
<strong><code>MXNet.mx.get_batch_size</code></strong> &mdash; <em>Function</em>.</p>
<pre><code>get_batch_size(provider) -&gt; Int
</code></pre>

<p><strong>Arguments:</strong></p>
<ul>
<li><code>provider::AbstractDataProvider</code>: the data provider.</li>
</ul>
<p>Returns the mini-batch size of the provided data. All the provided data should have the same mini-batch size (i.e. the last dimension).</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L20-L27' class='documenter-source'>source</a><br></p>
<p><a id='MXNet.mx.provide_data' href='#MXNet.mx.provide_data'>#</a>
<strong><code>MXNet.mx.provide_data</code></strong> &mdash; <em>Function</em>.</p>
<pre><code>provide_data(provider) -&gt; Vector{Tuple{Base.Symbol, Tuple}}
</code></pre>

<p><strong>Arguments:</strong></p>
<ul>
<li><code>provider::AbstractDataProvider</code>: the data provider.</li>
</ul>
<p>Returns a vector of (name, shape) pairs describing the names of the data it provides, and the corresponding shapes.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L30-L38' class='documenter-source'>source</a><br></p>
<p><a id='MXNet.mx.provide_label' href='#MXNet.mx.provide_label'>#</a>
<strong><code>MXNet.mx.provide_label</code></strong> &mdash; <em>Function</em>.</p>
<pre><code>provide_label(provider) -&gt; Vector{Tuple{Base.Symbol, Tuple}}
</code></pre>

<p><strong>Arguments:</strong></p>
<ul>
<li><code>provider::AbstractDataProvider</code>: the data provider.</li>
</ul>
<p>Returns a vector of (name, shape) pairs describing the names of the labels it provides, and the corresponding shapes.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L41-L48' class='documenter-source'>source</a><br></p>
<p><a id='AbstractDataBatch-interface-1'></a></p>
<h2 id="abstractdatabatch-interface">AbstractDataBatch interface</h2>
<p><a id='MXNet.mx.AbstractDataProviderState' href='#MXNet.mx.AbstractDataProviderState'>#</a>
<strong><code>MXNet.mx.AbstractDataProviderState</code></strong> &mdash; <em>Type</em>.</p>
<pre><code>AbstractDataProviderState
</code></pre>

<p>Base type for data provider states.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L51-L55' class='documenter-source'>source</a><br></p>
<p><a id='MXNet.mx.count_samples' href='#MXNet.mx.count_samples'>#</a>
<strong><code>MXNet.mx.count_samples</code></strong> &mdash; <em>Function</em>.</p>
<pre><code>count_samples(provider, batch) -&gt; Int
</code></pre>

<p><strong>Arguments:</strong></p>
<ul>
<li><code>batch::AbstractDataBatch</code>: the data batch object.</li>
</ul>
<p>Returns the number of samples in this batch. This number should be greater than 0, but less than or equal to the batch size. This is used to indicate at the end of the data set, there might not be enough samples for a whole mini-batch.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L75-L83' class='documenter-source'>source</a><br></p>
<p><a id='MXNet.mx.get_data' href='#MXNet.mx.get_data'>#</a>
<strong><code>MXNet.mx.get_data</code></strong> &mdash; <em>Function</em>.</p>
<pre><code>get_data(provider, batch) -&gt; Vector{NDArray}
</code></pre>

<p><strong>Arguments:</strong></p>
<ul>
<li><code>provider::AbstractDataProvider</code>: the data provider.</li>
<li><code>batch::AbstractDataBatch</code>: the data batch object.</li>
</ul>
<p>Returns a vector of data in this batch, should be in the same order as declared in <code>provide_data() &lt;AbstractDataProvider.provide_data&gt;</code>.</p>
<p>The last dimension of each <code>NDArray</code> should always match the batch_size, even when <code>count_samples</code> returns a value less than the batch size. In this case,      the data provider is free to pad the remaining contents with any value.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L86-L96' class='documenter-source'>source</a><br></p>
<p><a id='MXNet.mx.get_label' href='#MXNet.mx.get_label'>#</a>
<strong><code>MXNet.mx.get_label</code></strong> &mdash; <em>Function</em>.</p>
<pre><code>get_label(provider, batch) -&gt; Vector{NDArray}
</code></pre>

<p><strong>Arguments:</strong></p>
<ul>
<li><code>provider::AbstractDataProvider</code>: the data provider.</li>
<li><code>batch::AbstractDataBatch</code>: the data batch object.</li>
</ul>
<p>Returns a vector of labels in this batch. Similar to <a href="./#MXNet.mx.get_data"><code>get_data</code></a>.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L99-L107' class='documenter-source'>source</a><br></p>
<p><a id='Base.get' href='#Base.get'>#</a>
<strong><code>Base.get</code></strong> &mdash; <em>Function</em>.</p>
<pre><code>get(metric)
</code></pre>

<p>Get the accumulated metrics.</p>
<p>Returns <code>Vector{Tuple{Base.Symbol, Real}}</code>, a list of name-value pairs. For example, <code>[(:accuracy, 0.9)]</code>.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/metric.jl#L45-L52' class='documenter-source'>source</a><br></p>
<pre><code>get(provider, batch, name) -&gt; NDArray
</code></pre>

<ul>
<li><code>provider::AbstractDataProvider</code>: the data provider.</li>
<li><code>batch::AbstractDataBatch</code>: the data batch object.</li>
<li><code>name::Symbol</code>: the name of the data to get, should be one of the names provided in either <code>provide_data() &lt;AbstractDataProvider.provide_data&gt;</code> or <code>provide_label() &lt;AbstractDataProvider.provide_label&gt;</code>.</li>
</ul>
<p>Returns the corresponding data array corresponding to that name.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L190-L200' class='documenter-source'>source</a><br></p>
<p><a id='MXNet.mx.load_data!' href='#MXNet.mx.load_data!'>#</a>
<strong><code>MXNet.mx.load_data!</code></strong> &mdash; <em>Function</em>.</p>
<pre><code>load_data!(provider, batch, targets)
</code></pre>

<p><strong>Arguments:</strong></p>
<ul>
<li><code>provider::AbstractDataProvider</code>: the data provider.</li>
<li><code>batch::AbstractDataBatch</code>: the data batch object.</li>
<li><code>targets::Vector{Vector{SlicedNDArray}}</code>: the targets to load data into.</li>
</ul>
<p>The targets is a list of the same length as number of data provided by this provider. Each element in the list is a list of <code>SlicedNDArray</code>. This list described a spliting scheme of this data batch into different slices, each slice is specified by a slice-ndarray pair, where <em>slice</em> specify the range of samples in the mini-batch that should be loaded into the corresponding <em>ndarray</em>.</p>
<p>This utility function is used in data parallelization, where a mini-batch is splited and computed on several different devices.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L142-L158' class='documenter-source'>source</a><br></p>
<p><a id='MXNet.mx.load_label!' href='#MXNet.mx.load_label!'>#</a>
<strong><code>MXNet.mx.load_label!</code></strong> &mdash; <em>Function</em>.</p>
<pre><code>load_label!(provider, batch, targets)
</code></pre>

<ul>
<li><code>provider::AbstractDataProvider provider</code>: the data provider.</li>
<li><code>batch::AbstractDataBatch batch</code>: the data batch object.</li>
<li><code>targets::Vector{Vector{SlicedNDArray}}</code>: the targets to load label into.</li>
</ul>
<p>The same as <a href="./#MXNet.mx.load_data!"><code>load_data!</code></a>, except that this is for loading labels.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L164-L172' class='documenter-source'>source</a><br></p>
<p><a id='Implemented-providers-and-other-methods-1'></a></p>
<h2 id="implemented-providers-and-other-methods">Implemented providers and other methods</h2>
<p><a id='MXNet.mx.AbstractDataBatch' href='#MXNet.mx.AbstractDataBatch'>#</a>
<strong><code>MXNet.mx.AbstractDataBatch</code></strong> &mdash; <em>Type</em>.</p>
<pre><code>AbstractDataBatch
</code></pre>

<p>Base type for a data mini-batch. It should implement the following interfaces:</p>
<ul>
<li><a href="./#MXNet.mx.count_samples"><code>count_samples</code></a></li>
<li><a href="./#MXNet.mx.get_data"><code>get_data</code></a></li>
<li><a href="./#MXNet.mx.get_label"><code>get_label</code></a></li>
</ul>
<p>The following utility functions will be automatically defined:</p>
<ul>
<li><a href="./#Base.get"><code>get</code></a></li>
<li><a href="./#MXNet.mx.load_data!"><code>load_data!</code></a></li>
<li><a href="./#MXNet.mx.load_label!"><code>load_label!</code></a></li>
</ul>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L58-L72' class='documenter-source'>source</a><br></p>
<p><a id='MXNet.mx.ArrayDataProvider' href='#MXNet.mx.ArrayDataProvider'>#</a>
<strong><code>MXNet.mx.ArrayDataProvider</code></strong> &mdash; <em>Type</em>.</p>
<pre><code>ArrayDataProvider
</code></pre>

<p>A convenient tool to iterate <code>NDArray</code> or Julia <code>Array</code>.</p>
<pre><code>ArrayDataProvider(data[, label]; batch_size, shuffle, data_padding, label_padding)
</code></pre>

<p>Construct a data provider from <code>NDArray</code> or Julia Arrays.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li>
<p><code>data</code>: the data, could be</p>
<ul>
<li>a <code>NDArray</code>, or a Julia Array. This is equivalent to <code>:data =&gt; data</code>.</li>
<li>a name-data pair, like <code>:mydata =&gt; array</code>, where <code>:mydata</code> is the name of the data</li>
<li>and <code>array</code> is an <code>NDArray</code> or a Julia Array.</li>
<li>a list of name-data pairs.</li>
<li><code>label</code>: the same as the <code>data</code> parameter. When this argument is omitted, the constructed provider will provide no labels.</li>
<li><code>batch_size::Int</code>: the batch size, default is 0, which means treating the whole array as a single mini-batch.</li>
<li><code>shuffle::Bool</code>: turn on if the data should be shuffled at every epoch.</li>
<li><code>data_padding::Real</code>: when the mini-batch goes beyond the dataset boundary, there might be less samples to include than a mini-batch. This value specify a scalar to pad the contents of all the missing data points.</li>
<li><code>label_padding::Real</code>: the same as <code>data_padding</code>, except for the labels.</li>
</ul>
</li>
</ul>
<p>TODO: remove <code>data_padding</code> and <code>label_padding</code>, and implement rollover that copies the last or first several training samples to feed the padding.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L217-L243' class='documenter-source'>source</a><br></p>
<p><a id='MXNet.mx.DataBatch' href='#MXNet.mx.DataBatch'>#</a>
<strong><code>MXNet.mx.DataBatch</code></strong> &mdash; <em>Type</em>.</p>
<pre><code>DataBatch
</code></pre>

<p>A basic subclass of <code>AbstractDataBatch</code>, that implement the interface by accessing member fields.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L110-L115' class='documenter-source'>source</a><br></p>
<p><a id='MXNet.mx.MXDataProvider' href='#MXNet.mx.MXDataProvider'>#</a>
<strong><code>MXNet.mx.MXDataProvider</code></strong> &mdash; <em>Type</em>.</p>
<pre><code>MXDataProvider
</code></pre>

<p>A data provider that wrap built-in data iterators from libmxnet. See below for a list of built-in data iterators.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L409-L414' class='documenter-source'>source</a><br></p>
<p><a id='MXNet.mx.SlicedNDArray' href='#MXNet.mx.SlicedNDArray'>#</a>
<strong><code>MXNet.mx.SlicedNDArray</code></strong> &mdash; <em>Type</em>.</p>
<pre><code>SlicedNDArray
</code></pre>

<p>A alias type of <code>Tuple{UnitRange{Int},NDArray}</code>.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L125-L129' class='documenter-source'>source</a><br></p>
<p><a id='Base.get-Tuple{MXNet.mx.AbstractDataProvider,MXNet.mx.AbstractDataBatch,Symbol}' href='#Base.get-Tuple{MXNet.mx.AbstractDataProvider,MXNet.mx.AbstractDataBatch,Symbol}'>#</a>
<strong><code>Base.get</code></strong> &mdash; <em>Method</em>.</p>
<pre><code>get(provider, batch, name) -&gt; NDArray
</code></pre>

<ul>
<li><code>provider::AbstractDataProvider</code>: the data provider.</li>
<li><code>batch::AbstractDataBatch</code>: the data batch object.</li>
<li><code>name::Symbol</code>: the name of the data to get, should be one of the names provided in either <code>provide_data() &lt;AbstractDataProvider.provide_data&gt;</code> or <code>provide_label() &lt;AbstractDataProvider.provide_label&gt;</code>.</li>
</ul>
<p>Returns the corresponding data array corresponding to that name.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L190-L200' class='documenter-source'>source</a><br></p>
<p><a id='MXNet.mx.CSVIter-Tuple{}' href='#MXNet.mx.CSVIter-Tuple{}'>#</a>
<strong><code>MXNet.mx.CSVIter</code></strong> &mdash; <em>Method</em>.</p>
<pre><code>CSVIter(data_csv, data_shape, label_csv, label_shape)
</code></pre>

<p>Can also be called with the alias <code>CSVProvider</code>. Create iterator for dataset in csv.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>data_name::Symbol</code>: keyword argument, default <code>:data</code>. The name of the data.</li>
<li><code>label_name::Symbol</code>: keyword argument, default <code>:softmax_label</code>. The name of the label. Could be <code>nothing</code> if no label is presented in this dataset.</li>
<li><code>data_csv::string, required</code>: Dataset Param: Data csv path.</li>
<li><code>data_shape::Shape(tuple), required</code>: Dataset Param: Shape of the data.</li>
<li><code>label_csv::string, optional, default='NULL'</code>: Dataset Param: Label csv path. If is NULL, all labels will be returned as 0</li>
<li><code>label_shape::Shape(tuple), optional, default=(1,)</code>: Dataset Param: Shape of the label.</li>
</ul>
<p>Returns the constructed <code>MXDataProvider</code>.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L608-L626' class='documenter-source'>source</a><br></p>
<p><a id='MXNet.mx.ImageRecordIter-Tuple{}' href='#MXNet.mx.ImageRecordIter-Tuple{}'>#</a>
<strong><code>MXNet.mx.ImageRecordIter</code></strong> &mdash; <em>Method</em>.</p>
<pre><code>ImageRecordIter(path_imglist, path_imgrec, aug_seq, label_width, data_shape, preprocess_threads, verbose, num_parts, part_index, shuffle, seed, verbose, batch_size, round_batch, prefetch_buffer, dtype, rand_crop, crop_y_start, crop_x_start, max_rotate_angle, max_aspect_ratio, max_shear_ratio, max_crop_size, min_crop_size, max_random_scale, min_random_scale, max_img_size, min_img_size, random_h, random_s, random_l, rotate, fill_value, data_shape, inter_method, pad, seed, mirror, rand_mirror, mean_img, mean_r, mean_g, mean_b, mean_a, scale, max_random_contrast, max_random_illumination, verbose)
</code></pre>

<p>Can also be called with the alias <code>ImageRecordProvider</code>. Create iterator for dataset packed in recordio.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>data_name::Symbol</code>: keyword argument, default <code>:data</code>. The name of the data.</li>
<li><code>label_name::Symbol</code>: keyword argument, default <code>:softmax_label</code>. The name of the label. Could be <code>nothing</code> if no label is presented in this dataset.</li>
<li><code>path_imglist::string, optional, default=''</code>: Dataset Param: Path to image list.</li>
<li><code>path_imgrec::string, optional, default='./data/imgrec.rec'</code>: Dataset Param: Path to image record file.</li>
<li><code>aug_seq::string, optional, default='aug_default'</code>: Augmentation Param: the augmenter names to represent sequence of augmenters to be applied, seperated by comma. Additional keyword parameters will be seen by these augmenters.</li>
<li><code>label_width::int, optional, default='1'</code>: Dataset Param: How many labels for an image.</li>
<li><code>data_shape::Shape(tuple), required</code>: Dataset Param: Shape of each instance generated by the DataIter.</li>
<li><code>preprocess_threads::int, optional, default='4'</code>: Backend Param: Number of thread to do preprocessing.</li>
<li><code>verbose::boolean, optional, default=True</code>: Auxiliary Param: Whether to output parser information.</li>
<li><code>num_parts::int, optional, default='1'</code>: partition the data into multiple parts</li>
<li><code>part_index::int, optional, default='0'</code>: the index of the part will read</li>
<li><code>shuffle::boolean, optional, default=False</code>: Augmentation Param: Whether to shuffle data.</li>
<li><code>seed::int, optional, default='0'</code>: Augmentation Param: Random Seed.</li>
<li><code>batch_size::int (non-negative), required</code>: Batch Param: Batch size.</li>
<li><code>round_batch::boolean, optional, default=True</code>: Batch Param: Use round robin to handle overflow batch.</li>
<li><code>prefetch_buffer::long (non-negative), optional, default=4</code>: Backend Param: Number of prefetched parameters</li>
<li><code>dtype::{'float16', 'float32', 'float64'},optional, default='float32'</code>: Data type.</li>
<li><code>rand_crop::boolean, optional, default=False</code>: Augmentation Param: Whether to random crop on the image</li>
<li><code>crop_y_start::int, optional, default='-1'</code>: Augmentation Param: Where to nonrandom crop on y.</li>
<li><code>crop_x_start::int, optional, default='-1'</code>: Augmentation Param: Where to nonrandom crop on x.</li>
<li><code>max_rotate_angle::int, optional, default='0'</code>: Augmentation Param: rotated randomly in [-max_rotate_angle, max_rotate_angle].</li>
<li><code>max_aspect_ratio::float, optional, default=0</code>: Augmentation Param: denotes the max ratio of random aspect ratio augmentation.</li>
<li><code>max_shear_ratio::float, optional, default=0</code>: Augmentation Param: denotes the max random shearing ratio.</li>
<li><code>max_crop_size::int, optional, default='-1'</code>: Augmentation Param: Maximum crop size.</li>
<li><code>min_crop_size::int, optional, default='-1'</code>: Augmentation Param: Minimum crop size.</li>
<li><code>max_random_scale::float, optional, default=1</code>: Augmentation Param: Maxmum scale ratio.</li>
<li><code>min_random_scale::float, optional, default=1</code>: Augmentation Param: Minimum scale ratio.</li>
<li><code>max_img_size::float, optional, default=1e+10</code>: Augmentation Param: Maxmum image size after resizing.</li>
<li><code>min_img_size::float, optional, default=0</code>: Augmentation Param: Minimum image size after resizing.</li>
<li><code>random_h::int, optional, default='0'</code>: Augmentation Param: Maximum value of H channel in HSL color space.</li>
<li><code>random_s::int, optional, default='0'</code>: Augmentation Param: Maximum value of S channel in HSL color space.</li>
<li><code>random_l::int, optional, default='0'</code>: Augmentation Param: Maximum value of L channel in HSL color space.</li>
<li><code>rotate::int, optional, default='-1'</code>: Augmentation Param: Rotate angle.</li>
<li><code>fill_value::int, optional, default='255'</code>: Augmentation Param: Maximum value of illumination variation.</li>
<li><code>inter_method::int, optional, default='1'</code>: Augmentation Param: 0-NN 1-bilinear 2-cubic 3-area 4-lanczos4 9-auto 10-rand.</li>
<li><code>pad::int, optional, default='0'</code>: Augmentation Param: Padding size.</li>
<li><code>mirror::boolean, optional, default=False</code>: Augmentation Param: Whether to mirror the image.</li>
<li><code>rand_mirror::boolean, optional, default=False</code>: Augmentation Param: Whether to mirror the image randomly.</li>
<li><code>mean_img::string, optional, default=''</code>: Augmentation Param: Mean Image to be subtracted.</li>
<li><code>mean_r::float, optional, default=0</code>: Augmentation Param: Mean value on R channel.</li>
<li><code>mean_g::float, optional, default=0</code>: Augmentation Param: Mean value on G channel.</li>
<li><code>mean_b::float, optional, default=0</code>: Augmentation Param: Mean value on B channel.</li>
<li><code>mean_a::float, optional, default=0</code>: Augmentation Param: Mean value on Alpha channel.</li>
<li><code>scale::float, optional, default=1</code>: Augmentation Param: Scale in color space.</li>
<li><code>max_random_contrast::float, optional, default=0</code>: Augmentation Param: Maximum ratio of contrast variation.</li>
<li><code>max_random_illumination::float, optional, default=0</code>: Augmentation Param: Maximum value of illumination variation.</li>
</ul>
<p>Returns the constructed <code>MXDataProvider</code>.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L608-L706' class='documenter-source'>source</a><br></p>
<p><a id='MXNet.mx.MNISTIter-Tuple{}' href='#MXNet.mx.MNISTIter-Tuple{}'>#</a>
<strong><code>MXNet.mx.MNISTIter</code></strong> &mdash; <em>Method</em>.</p>
<pre><code>MNISTIter(image, label, batch_size, shuffle, flat, seed, silent, num_parts, part_index, prefetch_buffer, dtype)
</code></pre>

<p>Can also be called with the alias <code>MNISTProvider</code>. Create iterator for MNIST hand-written digit number recognition dataset.</p>
<p><strong>Arguments:</strong></p>
<ul>
<li><code>data_name::Symbol</code>: keyword argument, default <code>:data</code>. The name of the data.</li>
<li><code>label_name::Symbol</code>: keyword argument, default <code>:softmax_label</code>. The name of the label. Could be <code>nothing</code> if no label is presented in this dataset.</li>
<li><code>image::string, optional, default='./train-images-idx3-ubyte'</code>: Dataset Param: Mnist image path.</li>
<li><code>label::string, optional, default='./train-labels-idx1-ubyte'</code>: Dataset Param: Mnist label path.</li>
<li><code>batch_size::int, optional, default='128'</code>: Batch Param: Batch Size.</li>
<li><code>shuffle::boolean, optional, default=True</code>: Augmentation Param: Whether to shuffle data.</li>
<li><code>flat::boolean, optional, default=False</code>: Augmentation Param: Whether to flat the data into 1D.</li>
<li><code>seed::int, optional, default='0'</code>: Augmentation Param: Random Seed.</li>
<li><code>silent::boolean, optional, default=False</code>: Auxiliary Param: Whether to print out data info.</li>
<li><code>num_parts::int, optional, default='1'</code>: partition the data into multiple parts</li>
<li><code>part_index::int, optional, default='0'</code>: the index of the part will read</li>
<li><code>prefetch_buffer::long (non-negative), optional, default=4</code>: Backend Param: Number of prefetched parameters</li>
<li><code>dtype::{'float16', 'float32', 'float64'},optional, default='float32'</code>: Data type.</li>
</ul>
<p>Returns the constructed <code>MXDataProvider</code>.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L608-L640' class='documenter-source'>source</a><br></p>
<p><a id='MXNet.mx.load_data!-Tuple{MXNet.mx.AbstractDataProvider,MXNet.mx.AbstractDataBatch,Array{Array{Tuple{UnitRange{Int64},MXNet.mx.NDArray},1},1}}' href='#MXNet.mx.load_data!-Tuple{MXNet.mx.AbstractDataProvider,MXNet.mx.AbstractDataBatch,Array{Array{Tuple{UnitRange{Int64},MXNet.mx.NDArray},1},1}}'>#</a>
<strong><code>MXNet.mx.load_data!</code></strong> &mdash; <em>Method</em>.</p>
<pre><code>load_data!(provider, batch, targets)
</code></pre>

<p><strong>Arguments:</strong></p>
<ul>
<li><code>provider::AbstractDataProvider</code>: the data provider.</li>
<li><code>batch::AbstractDataBatch</code>: the data batch object.</li>
<li><code>targets::Vector{Vector{SlicedNDArray}}</code>: the targets to load data into.</li>
</ul>
<p>The targets is a list of the same length as number of data provided by this provider. Each element in the list is a list of <code>SlicedNDArray</code>. This list described a spliting scheme of this data batch into different slices, each slice is specified by a slice-ndarray pair, where <em>slice</em> specify the range of samples in the mini-batch that should be loaded into the corresponding <em>ndarray</em>.</p>
<p>This utility function is used in data parallelization, where a mini-batch is splited and computed on several different devices.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L142-L158' class='documenter-source'>source</a><br></p>
<p><a id='MXNet.mx.load_label!-Tuple{MXNet.mx.AbstractDataProvider,MXNet.mx.AbstractDataBatch,Array{Array{Tuple{UnitRange{Int64},MXNet.mx.NDArray},1},1}}' href='#MXNet.mx.load_label!-Tuple{MXNet.mx.AbstractDataProvider,MXNet.mx.AbstractDataBatch,Array{Array{Tuple{UnitRange{Int64},MXNet.mx.NDArray},1},1}}'>#</a>
<strong><code>MXNet.mx.load_label!</code></strong> &mdash; <em>Method</em>.</p>
<pre><code>load_label!(provider, batch, targets)
</code></pre>

<ul>
<li><code>provider::AbstractDataProvider provider</code>: the data provider.</li>
<li><code>batch::AbstractDataBatch batch</code>: the data batch object.</li>
<li><code>targets::Vector{Vector{SlicedNDArray}}</code>: the targets to load label into.</li>
</ul>
<p>The same as <a href="./#MXNet.mx.load_data!"><code>load_data!</code></a>, except that this is for loading labels.</p>
<p><a target='_blank' href='https://github.com/dmlc/MXNet.jl/tree/45c1a6c700e86af95ec92c5aaf2cec1a9ab8889b/src/io.jl#L164-L172' class='documenter-source'>source</a><br></p>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../metric/" title="Evaluation Metrics">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Evaluation Metrics
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../ndarray/" title="NDArray API">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                NDArray API
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '../..';
      var repo_id  = 'dmlc/MXNet.jl';
    </script>
    <script src="../../assets/javascripts/application-997097ee0c.js"></script>
    
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.jl?config=TeX-AMS-MML_HTMLorMML"></script>
    
      <script src="../../assets/mathjaxhelper.js"></script>
    
    
  </body>
</html>